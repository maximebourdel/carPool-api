# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/service_container.html
parameters:
    #parameter_name: value

services:
    app.webservice_user_provider:
        class: MainBundle\Security\User\WebserviceUserProvider
        arguments: ['@service_container']

    acme_api.event.authentication_success_listener:
        class: MainBundle\EventListener\AuthenticationSuccessListener
        tags:
            - { name: kernel.event_listener, event: lexik_jwt_authentication.on_authentication_success, method: onAuthenticationSuccessResponse }

    app.jwt_token_authenticator:
        class: MainBundle\Security\Guard\JWTTokenAuthenticator
        parent: lexik_jwt_authentication.security.guard.jwt_token_authenticator

    acme_api.event.jwt_created_listener:
        class: MainBundle\EventListener\JWTCreatedListener
        arguments: [ '@request_stack' ]
        tags:
            - { name: kernel.event_listener, event: lexik_jwt_authentication.on_jwt_created, method: onJWTCreated }            

    mail_manager:
        class:     MainBundle\Service\Mail\MailManager
        arguments: ["@mailer", "@twig"]
